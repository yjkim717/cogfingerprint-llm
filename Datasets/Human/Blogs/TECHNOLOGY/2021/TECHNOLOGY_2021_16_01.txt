Year: 2021
Author: Vanals
URL: https://www.reddit.com/r/nextjs/comments/rs1kvc/nwxtjs_head_only_rendering_client_side/

Hi, Following a post of two years ago: I am facing the same issue. I am wrapping meta tags inside next/head but it gets rendered only client-side. \_app.js is a class react component with getInitialProps. In a separated clean react project I tried to replicate this setup (class + getInitialProps) and works fine, but not in the other one. so Must be something else. NextJS version: next": "\^12.0.7" Any idea of what might be causing this issue? Everything else seems to be rendered server side, but not the Head content. export default class MyApp extends App<Props, State> { .... static async getInitialProps({Component, ctx}: AppContext) { let pageProps = {}; if (Component.getInitialProps) { pageProps = await Component.getInitialProps(ctx); } return {path: ctx.asPath, pageProps}; } ... render() { const {Component, pageProps, path} = this.props; const {theme, themeMode} = this.state as State; const handlers = [ instrumentationHandlers.createConsoleHandler(), instrumentationHandlers.createTealiumHandler(), ]; return ( <> <Head> <title key='title'>TITLE</title> <meta key="description" name="description" content="DESCRIPTION" /> </Head> <InstrumentationProvider {...createEventInstrumentation(handlers, { ...pageProps, })} > <ThemeProvider theme={theme}> <ThemeMode.Provider value={themeMode}> <Global styles={css` html { scroll-behavior: smooth; scroll-padding-top: 90px; } @font-face { font-family: 'DM Sans'; src: url('static/fonts/dmsans-regular-webfont.woff2') format('woff2'), url('static/fonts/dmsans-regular-webfont.woff') format('woff'); font-style: normal; font-weight: 400; font-display: swap; } /> <PageLoadInstrumentation /> <Component {...pageProps} path={path} toggleTheme={this.toggleTheme} themeMode={themeMode} /> </ThemeMode.Provider> </ThemeProvider> </InstrumentationProvider> </> ); } } Rendering Head in \_document.tsx works, but I want it to be dynamic. So different for every page and. using it in \_app.tsx or in pages doesn't render it server-side :/ THANK YOU!
